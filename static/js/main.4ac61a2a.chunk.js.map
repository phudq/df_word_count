{"version":3,"sources":["components/ListMessage/Message.jsx","components/ListMessage/ListMessage.jsx","components/Counter/ProgressBar/ProgressBar.jsx","components/Counter/Counter.jsx","components/UserInput/UserInput.jsx","components/ChatBox/ChatBox.jsx","App.js","reportWebVitals.js","index.js"],"names":["Message","content","isComing","className","dangerouslySetInnerHTML","__html","ListMessage","messages","map","message","index","React","memo","ProgressBar","props","useState","offset","setOffset","circleRef","useRef","size","progress","colorCircleStroke","text","center","radius","strokeWidth","circumference","Math","PI","useEffect","current","style","width","height","stroke","cx","cy","r","ref","strokeDasharray","strokeDashoffset","isNaN","x","y","dominantBaseline","textAnchor","Counter","count","maxCount","useMemo","percent","compositeDecorator","CompositeDecorator","strategy","contentBlock","callback","contentState","length","blockKey","getBlockMap","reduce","acm","key","blockLength","getLength","preLength","Object","assign","getLengthPrevBlock","getKey","component","children","UserInput","sendMessage","EditorState","createEmpty","editorState","setEditorState","setCount","onChange","contentLength","getCurrentContent","getPlainText","replace","placeholder","onClick","newEditorState","push","ContentState","createFromText","disabled","ChatBox","setMessages","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4ac61a2a.chunk.js","sourcesContent":["import React from \"react\";\n\nfunction Message({content, isComing}) {\n  return <div\n    className={`message-box ${isComing ? 'is-coming' : 'is-going'}`}\n  >\n    <div className=\"message-content\" dangerouslySetInnerHTML={{__html: content}}/>\n  </div>\n}\n\nexport default Message;\n","import React from \"react\";\nimport Message from \"./Message\";\nimport './ListMessage.scss';\n\nfunction ListMessage({messages = []}) {\n  return <div className=\"list-message\">\n    {messages.map((message, index) => {\n      return <Message key={index} {...message}/>\n    })}\n  </div>\n}\n\nexport default React.memo(ListMessage);\n","import React, {useEffect, useState, useRef} from 'react';\nimport PropTypes from 'prop-types';\n\nimport './ProgressBar.scss';\n\nconst ProgressBar = props => {\n  const [offset, setOffset] = useState(0);\n  const circleRef = useRef(null);\n  const {\n    size,\n    progress,\n    colorCircleStroke,\n    text\n  } = props;\n\n  const strokeWidth = 2;\n  const circleOneStroke = \"#dddddd\";\n  const center = size / 2;\n  const radius = size / 2 - strokeWidth / 2;\n  const circumference = 2 * Math.PI * radius;\n\n  useEffect(() => {\n    const progressOffset = ((100 - progress) / 100) * circumference;\n    setOffset(progressOffset);\n    circleRef.current.style = 'transition: stroke-dashoffset 150ms ease-in-out';\n  }, [setOffset, progress, circumference, offset]);\n\n  return (\n    <>\n      <svg\n        className=\"svg\"\n        width={size}\n        height={size}\n      >\n        <circle\n          className=\"svg-circle-bg\"\n          stroke={circleOneStroke}\n          cx={center}\n          cy={center}\n          r={radius}\n          strokeWidth={strokeWidth}\n        />\n        <circle\n          className=\"svg-circle\"\n          ref={circleRef}\n          stroke={colorCircleStroke}\n          cx={center}\n          cy={center}\n          r={radius}\n          strokeWidth={strokeWidth}\n          strokeDasharray={circumference}\n          strokeDashoffset={offset}\n        />\n        {\n          !isNaN(text) &&\n          <text\n            x=\"50%\" y=\"50%\"\n            dominantBaseline=\"middle\"\n            textAnchor=\"middle\"\n            className=\"svg-circle-text\">\n            {text}\n          </text>\n        }\n      </svg>\n    </>\n  );\n}\n\nProgressBar.propTypes = {\n  size: PropTypes.number.isRequired,\n  progress: PropTypes.number.isRequired,\n  strokeWidth: PropTypes.number.isRequired,\n  colorCircleStroke: PropTypes.string.isRequired\n}\n\nexport default ProgressBar;\n","import React, {useMemo} from 'react'\nimport ProcessBar from \"./ProgressBar/ProgressBar\";\n\nfunction Counter({count, maxCount = 50}) {\n\n  const progress = useMemo(() => {\n    const percent = (count / maxCount) * 100\n    return percent > 100 ? 100 : percent;\n  }, [count, maxCount])\n\n  const colorCircleStroke = useMemo(() => {\n    if (count > 40 && count < 50) {\n      return 'yellow'\n    } else if (count >= 50) {\n      return 'red';\n    }\n    return '#7ea9e1'\n  }, [count]);\n\n  return <div>\n    <ProcessBar\n      size={20}\n      progress={progress}\n      text={maxCount - count < 20 && maxCount - count}\n      strokeWidth={2}\n      colorCircleStroke={colorCircleStroke}\n    />\n  </div>\n}\n\nexport default Counter;\n","import React, {useState} from 'react'\nimport {Editor, EditorState, CompositeDecorator, ContentState} from 'draft-js';\nimport 'draft-js/dist/Draft.css';\n\nimport './UserInput.scss'\nimport Counter from \"../Counter\";\n\nconst maxCount = 50;\n\nconst Overflow = (props) => {\n  return (\n    <span className=\"content-overflow\">\n      {props.children}\n    </span>\n  );\n}\n\nconst compositeDecorator = new CompositeDecorator([\n  {\n    strategy: handleOverflow,\n    component: Overflow,\n  }\n]);\n\nfunction getLengthPrevBlock(contentState, blockKey) {\n  return contentState.getBlockMap().reduce((acm, current, key) => {\n    const blockLength = current.getLength();\n    const length = acm.preLength + blockLength;\n    return Object.assign(acm, {\n      [key]: length,\n      preLength: length\n    })\n  }, {preLength: 0})[blockKey];\n}\n\nfunction handleOverflow(contentBlock, callback, contentState) {\n  const length = getLengthPrevBlock(contentState, contentBlock.getKey());\n  const blockLength = contentBlock.getLength();\n  if (length > maxCount) {\n    const start = length - blockLength >= maxCount ? 0 : maxCount;\n    callback(start, blockLength)\n  }\n}\n\nfunction UserInput({sendMessage}) {\n  const [editorState, setEditorState] = useState(() =>\n    EditorState.createEmpty(compositeDecorator),\n  );\n  const [count, setCount] = useState(0);\n\n  const handleSendMessage = () => {\n    const content = editorState.getCurrentContent().getPlainText()\n    sendMessage(content)\n    const newEditorState = EditorState.push(editorState, ContentState.createFromText(''));\n    setEditorState(newEditorState);\n    setCount(0)\n  }\n\n  const onEditorChange = (editorState) => {\n    setEditorState(editorState);\n    const plainText = editorState.getCurrentContent().getPlainText();\n    const contentLength = plainText.replace(/\\n/g, '').length;\n    setCount(contentLength);\n  }\n\n  return <div className=\"user-input\">\n    <div className=\"editor\">\n      <Editor\n        editorState={editorState}\n        onChange={onEditorChange}\n        placeholder=\"Write a tweet...\"\n      />\n    </div>\n    <div className=\"action\">\n      <Counter count={count} maxCount={maxCount}/>\n      <button\n        onClick={handleSendMessage}\n        className=\"reply-btn\"\n        disabled={count > maxCount}\n      >Reply\n      </button>\n    </div>\n  </div>\n}\n\nexport default UserInput;\n","import React, {useState} from \"react\";\nimport ListMessage from \"../ListMessage/ListMessage\";\nimport UserInput from \"../UserInput/UserInput\";\n\nimport './ChatBox.scss'\n\nfunction ChatBox() {\n  const [messages, setMessages] = useState([\n    {\n      isComing: true,\n      content: 'Hi'\n    }\n  ]);\n\n  const sendMessage = (content) => {\n    setMessages([...messages, {content, isComing: false}])\n  }\n\n  return <div className=\"chat-box\">\n    <ListMessage messages={messages}/>\n    <UserInput sendMessage={sendMessage}/>\n  </div>\n}\n\nexport default ChatBox;\n","import './App.scss';\nimport ChatBox from \"./components/ChatBox\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <ChatBox/>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App/>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}